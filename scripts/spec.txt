Create a new script in the scripts folder to index media files.
This includeds image and video files. The index should be stored to a sqlite3 database.

The script should take as parameters
A path, start_dir, volume_tag, path, skip_pattern

The script will recurse the folder path/start_dir

For each file, base information is collected and saved
    volume
    fullpath
    name
    create and modify date
    size
    mime
    extension
    a hash

Additionally, additional data for different file types is collected, stored and linked to the
file record in the base table

Image Files:
   raw exif data
   normalized data from exif (width, height, date_timetaken,
       exposure_time, focal_length, focal_length35mm, f_number, camera_make, camera_model,
        lens_model, iso, latitude, longitude, altitude, city, state, country, country_code,
        coverage, caption, keywords). These should be extracted from exif by evaluating most
        appropriate field that exists in the exif file

Video Files:
    width
    height
    frame_rate
    video_encoder
    audio_channels
    audio_bit_rate_kbps
    duration in fractional seconds

For each file, a thumbnail is created and stored and linked with the file record


I want to develop a new script, manage_dupes.py that can use the database generated by index_media.py. This script
takes a source directory and goes through each file recursively, computes the hash and check if the file exists is the database.
If it does not, it moves this file in a parallel directory structure in a specified duplicate structure.

Write or refactor the index_media.py as you see fit to use common functions and database


